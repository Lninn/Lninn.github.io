import{j as s}from"./index-D9YksUlk.js";import{b as h}from"./vendor-D6FSTBK7.js";import"./utils-B-ph8sPT.js";function u({records:l,stats:t,onClear:d,onClose:n}){const[a,c]=h.useState("records"),o=e=>new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),i=e=>{if(e<60)return`${e} 分钟`;const r=Math.floor(e/60),m=e%60;return`${r} 小时 ${m} 分钟`};return s.jsxs("div",{className:"records-panel",children:[s.jsxs("div",{className:"records-header",children:[s.jsx("h3",{children:"阅读记录"}),s.jsxs("div",{className:"records-tabs",children:[s.jsx("button",{className:`tab-button ${a==="records"?"active":""}`,onClick:()=>c("records"),children:"详细记录"}),s.jsx("button",{className:`tab-button ${a==="stats"?"active":""}`,onClick:()=>c("stats"),children:"统计数据"})]}),s.jsx("button",{className:"close-button",onClick:n,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),a==="records"?s.jsx("div",{className:"records-list",children:l.length===0?s.jsx("div",{className:"no-records",children:"暂无阅读记录"}):s.jsxs(s.Fragment,{children:[l.map(e=>s.jsxs("div",{className:"record-item",children:[s.jsx("div",{className:"record-date",children:o(e.timestamp)}),s.jsxs("div",{className:"record-details",children:[s.jsxs("div",{children:["专注时间: ",i(e.focusTime)]}),s.jsxs("div",{children:["完成周期: ",e.cycles," 个"]}),s.jsxs("div",{children:["模式: ",e.mode==="focus"?"专注":e.mode==="break"?"短休息":"长休息"]})]})]},e.id)),s.jsx("button",{className:"clear-records-button",onClick:d,children:"清除所有记录"})]})}):s.jsxs("div",{className:"stats-view",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"总专注时间"}),s.jsx("div",{className:"stat-value",children:i(t.totalFocusTime)})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"总阅读次数"}),s.jsxs("div",{className:"stat-value",children:[t.totalSessions," 次"]})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"总完成周期"}),s.jsxs("div",{className:"stat-value",children:[t.totalCycles," 个"]})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"平均专注时间"}),s.jsx("div",{className:"stat-value",children:i(t.averageFocusTime)})]})]})]})}export{u as default};
