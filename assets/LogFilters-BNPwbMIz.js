import{j as e}from"./index-G50_cVNm.js";import{c as i}from"./vendor-BnqOfUhS.js";import"./utils-qv0fxg6h.js";function x({filters:a,environments:r,onFilterChange:l}){const[t,n]=i.useState(!1),c=[{value:"",label:"所有环境"},...r.map(s=>({value:s,label:s}))];return e.jsxs("div",{className:"filters-container",children:[e.jsxs("div",{className:"filters-header",children:[e.jsx("h3",{className:"filters-title",children:"筛选条件"}),e.jsxs("button",{className:"filters-toggle",onClick:()=>n(!t),"aria-expanded":t,children:[t?"收起":"展开",e.jsx("span",{className:`toggle-icon ${t?"expanded":""}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})]}),e.jsxs("div",{className:`filters-wrapper ${t?"expanded":""}`,children:[e.jsxs("div",{className:"filter-item filter-item-search",children:[e.jsx("label",{className:"filter-label",children:"全局搜索"}),e.jsxs("div",{className:"search-input-wrapper",children:[e.jsx("input",{type:"text",value:a.searchTerm,onChange:s=>l("searchTerm",s.target.value),placeholder:"搜索错误信息、组件或URL...",className:"filter-input search-input log-search-input"}),a.searchTerm&&e.jsx("button",{className:"search-clear-btn",onClick:()=>l("searchTerm",""),"aria-label":"清除搜索",children:"×"})]})]}),e.jsxs("div",{className:"filter-item",children:[e.jsx("label",{className:"filter-label",children:"运行环境"}),e.jsx("select",{value:a.environment,onChange:s=>l("environment",s.target.value),className:"filter-input",children:c.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{className:"filter-item",children:[e.jsx("label",{className:"filter-label",children:"起始日期"}),e.jsx("input",{type:"date",value:a.startDate,onChange:s=>l("startDate",s.target.value),className:"filter-input"})]}),e.jsxs("div",{className:"filter-item",children:[e.jsx("label",{className:"filter-label",children:"截止日期"}),e.jsx("input",{type:"date",value:a.endDate,onChange:s=>l("endDate",s.target.value),className:"filter-input"})]})]}),(a.environment||a.startDate||a.endDate||a.searchTerm)&&e.jsxs("div",{className:"active-filters",children:[e.jsx("span",{className:"active-filters-label",children:"已应用筛选:"}),e.jsxs("div",{className:"filter-tags",children:[a.environment&&e.jsxs("span",{className:"filter-tag",children:["环境: ",a.environment,e.jsx("button",{className:"tag-remove",onClick:()=>l("environment",""),"aria-label":"移除环境筛选",children:"×"})]}),a.startDate&&e.jsxs("span",{className:"filter-tag",children:["开始: ",a.startDate,e.jsx("button",{className:"tag-remove",onClick:()=>l("startDate",""),"aria-label":"移除开始日期筛选",children:"×"})]}),a.endDate&&e.jsxs("span",{className:"filter-tag",children:["结束: ",a.endDate,e.jsx("button",{className:"tag-remove",onClick:()=>l("endDate",""),"aria-label":"移除结束日期筛选",children:"×"})]}),a.searchTerm&&e.jsxs("span",{className:"filter-tag",children:["搜索: ",a.searchTerm,e.jsx("button",{className:"tag-remove",onClick:()=>l("searchTerm",""),"aria-label":"移除搜索筛选",children:"×"})]}),e.jsx("button",{className:"clear-all-btn",onClick:()=>{l("environment",""),l("startDate",""),l("endDate",""),l("searchTerm","")},children:"清除全部"})]})]})]})}export{x as LogFilters};
