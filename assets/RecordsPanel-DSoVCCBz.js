import{j as s}from"./index-CvC0IVlO.js";import{b as x}from"./vendor-D6FSTBK7.js";import"./utils-B-ph8sPT.js";function N({records:l,stats:a,onClear:n,onClose:o,onDelete:h}){const[i,c]=x.useState("records"),m=e=>new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),t=e=>{if(e<60)return`${e} 分钟`;const r=Math.floor(e/60),d=e%60;return`${r} 小时 ${d>0?`${d} 分钟`:""}`};return s.jsxs("div",{className:"records-panel",children:[s.jsxs("div",{className:"records-header",children:[s.jsx("h3",{children:"阅读记录"}),s.jsxs("div",{className:"records-tabs",children:[s.jsx("button",{className:`tab-button ${i==="records"?"active":""}`,onClick:()=>c("records"),children:"详细记录"}),s.jsx("button",{className:`tab-button ${i==="stats"?"active":""}`,onClick:()=>c("stats"),children:"统计数据"})]}),s.jsx("button",{className:"close-button",onClick:o,"aria-label":"关闭",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),i==="records"?s.jsx("div",{className:"records-list",children:l.length===0?s.jsx("div",{className:"no-records",children:"暂无阅读记录"}):s.jsxs(s.Fragment,{children:[l.map(e=>s.jsxs("div",{className:"record-item",children:[s.jsx("div",{className:"record-date",children:m(e.timestamp)}),s.jsxs("div",{className:"record-details",children:[s.jsxs("div",{children:["专注时间: ",t(e.focusTime)]}),s.jsxs("div",{children:["完成周期: ",e.cycles," 个"]}),s.jsxs("div",{children:["模式: ",e.mode==="focus"?"专注":e.mode==="break"?"短休息":"长休息"]}),s.jsx("button",{className:"delete-record-button",onClick:()=>h(e.id),"aria-label":"删除记录",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),s.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]})]},e.id)),s.jsx("button",{className:"clear-records-button",onClick:n,children:"清除所有记录"})]})}):s.jsxs("div",{className:"stats-view",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"今日专注"}),s.jsx("div",{className:"stat-value",children:t(a.todayFocusTime)})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"本周专注"}),s.jsx("div",{className:"stat-value",children:t(a.lastWeekFocusTime)})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"总专注时间"}),s.jsx("div",{className:"stat-value",children:t(a.totalFocusTime)})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"总阅读次数"}),s.jsxs("div",{className:"stat-value",children:[a.totalSessions," 次"]})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"总完成周期"}),s.jsxs("div",{className:"stat-value",children:[a.totalCycles," 个"]})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"平均专注时间"}),s.jsx("div",{className:"stat-value",children:t(a.averageFocusTime)})]})]})]})}export{N as default};
