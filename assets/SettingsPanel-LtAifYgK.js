import{j as e}from"./index-BtK_pdOW.js";import{b as o}from"./vendor-D6FSTBK7.js";import"./utils-B-ph8sPT.js";function g({settings:t,onCancel:m,onApply:c}){const[n,i]=o.useState({...t,dailyGoal:t.dailyGoal||120,volume:t.volume||1}),l=o.useRef(null);o.useEffect(()=>{const a={bell:"/sounds/bell.mp3",complete:"/sounds/complete.mp3",meditation:"/sounds/meditation-bell.mp3"};return l.current=new Audio(a[n.soundOption]),()=>{l.current&&(l.current.pause(),l.current=null)}},[n.soundOption]);const s=a=>{const{name:r,value:u}=a.target;i({...n,[r]:r==="soundOption"?u:parseInt(u,10)})},d=()=>{c(n)},p=()=>{l.current&&(l.current.volume=n.volume,l.current.currentTime=0,l.current.play())};return e.jsxs("div",{className:"settings-panel",children:[e.jsx("h3",{children:"计时器设置"}),e.jsxs("div",{className:"settings-form",children:[e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"focusTime",children:"专注时间 (分钟)"}),e.jsx("input",{type:"number",id:"focusTime",name:"focusTime",min:"1",max:"60",value:n.focusTime,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"breakTime",children:"短休息时间 (分钟)"}),e.jsx("input",{type:"number",id:"breakTime",name:"breakTime",min:"1",max:"30",value:n.breakTime,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"longBreakTime",children:"长休息时间 (分钟)"}),e.jsx("input",{type:"number",id:"longBreakTime",name:"longBreakTime",min:"5",max:"60",value:n.longBreakTime,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"longBreakInterval",children:"长休息间隔 (周期数)"}),e.jsx("input",{type:"number",id:"longBreakInterval",name:"longBreakInterval",min:"1",max:"10",value:n.longBreakInterval,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"dailyGoal",children:"每日专注目标 (分钟)"}),e.jsx("input",{type:"number",id:"dailyGoal",name:"dailyGoal",min:"10",max:"480",value:n.dailyGoal,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"soundOption",children:"提示音效"}),e.jsxs("div",{className:"sound-option-container",children:[e.jsxs("select",{id:"soundOption",name:"soundOption",value:n.soundOption,onChange:s,children:[e.jsx("option",{value:"bell",children:"铃声"}),e.jsx("option",{value:"complete",children:"完成音"}),e.jsx("option",{value:"meditation",children:"冥想钟"})]}),e.jsx("button",{type:"button",className:"test-sound-button",onClick:p,"aria-label":"测试音效",children:"测试"})]})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"volume",children:"音量"}),e.jsxs("div",{className:"volume-control",children:[e.jsx("input",{type:"range",id:"volume",name:"volume",min:"0",max:"1",step:"0.1",value:n.volume,onChange:a=>i({...n,volume:parseFloat(a.target.value)})}),e.jsxs("span",{className:"volume-value",children:[Math.round(n.volume*100),"%"]})]})]}),e.jsxs("div",{className:"settings-actions",children:[e.jsx("button",{className:"cancel-button",onClick:m,children:"取消"}),e.jsx("button",{className:"apply-button",onClick:d,children:"应用"})]})]})]})}export{g as default};
