import{j as e}from"./index-DfZoLX-7.js";import{b as i}from"./vendor-D6FSTBK7.js";import"./utils-B-ph8sPT.js";function j({settings:r,onCancel:c,onApply:u}){const[n,m]=i.useState(r),t=i.useRef(null);i.useEffect(()=>{const l={bell:"/sounds/bell.mp3",complete:"/sounds/complete.mp3",meditation:"/sounds/meditation-bell.mp3"};return t.current=new Audio(l[n.soundOption]),()=>{t.current&&(t.current.pause(),t.current=null)}},[n.soundOption]);const s=l=>{const{name:a,value:o}=l.target;m({...n,[a]:a==="soundOption"?o:parseInt(o,10)})},d=()=>{u(n)},p=()=>{t.current&&(t.current.currentTime=0,t.current.play())};return e.jsxs("div",{className:"settings-panel",children:[e.jsx("h3",{children:"计时器设置"}),e.jsxs("div",{className:"settings-form",children:[e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"focusTime",children:"专注时间 (分钟)"}),e.jsx("input",{type:"number",id:"focusTime",name:"focusTime",min:"1",max:"60",value:n.focusTime,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"breakTime",children:"短休息时间 (分钟)"}),e.jsx("input",{type:"number",id:"breakTime",name:"breakTime",min:"1",max:"30",value:n.breakTime,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"longBreakTime",children:"长休息时间 (分钟)"}),e.jsx("input",{type:"number",id:"longBreakTime",name:"longBreakTime",min:"5",max:"60",value:n.longBreakTime,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"longBreakInterval",children:"长休息间隔 (周期数)"}),e.jsx("input",{type:"number",id:"longBreakInterval",name:"longBreakInterval",min:"1",max:"10",value:n.longBreakInterval,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"soundOption",children:"提示音效"}),e.jsxs("div",{className:"sound-option-container",children:[e.jsxs("select",{id:"soundOption",name:"soundOption",value:n.soundOption,onChange:s,children:[e.jsx("option",{value:"bell",children:"铃声"}),e.jsx("option",{value:"complete",children:"完成音"}),e.jsx("option",{value:"meditation",children:"冥想钟"})]}),e.jsx("button",{type:"button",className:"test-sound-button",onClick:p,"aria-label":"测试音效",children:"测试音效"})]})]}),e.jsxs("div",{className:"settings-actions",children:[e.jsx("button",{className:"cancel-button",onClick:c,children:"取消"}),e.jsx("button",{className:"apply-button",onClick:d,children:"应用"})]})]})]})}export{j as default};
