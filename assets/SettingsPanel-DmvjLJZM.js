import{j as e}from"./index-BoBzeu2f.js";import{b as o}from"./vendor-D6FSTBK7.js";import"./utils-B-ph8sPT.js";function j({settings:r,onCancel:c,onApply:u}){const[n,d]=o.useState(r),t=o.useRef(null);o.useEffect(()=>{const i={bell:"/sounds/bell.mp3",complete:"/sounds/complete.mp3",meditation:"/sounds/meditation-bell.mp3"};return t.current=new Audio(i[n.soundOption]),()=>{t.current&&(t.current.pause(),t.current=null)}},[n.soundOption]);const s=i=>{const{name:l,value:a}=i.target;d({...n,[l]:l==="soundOption"?a:parseInt(a,10)})},m=()=>{u(n)},p=()=>{t.current&&(t.current.currentTime=0,t.current.play())};return e.jsxs("div",{className:"settings-panel",children:[e.jsx("h3",{children:"计时器设置"}),e.jsxs("div",{className:"settings-form",children:[e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"focusTime",children:"专注时间 (分钟)"}),e.jsx("input",{type:"number",id:"focusTime",name:"focusTime",min:"1",max:"60",value:n.focusTime,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"breakTime",children:"短休息时间 (分钟)"}),e.jsx("input",{type:"number",id:"breakTime",name:"breakTime",min:"1",max:"30",value:n.breakTime,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"longBreakTime",children:"长休息时间 (分钟)"}),e.jsx("input",{type:"number",id:"longBreakTime",name:"longBreakTime",min:"5",max:"60",value:n.longBreakTime,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"longBreakInterval",children:"长休息间隔 (周期数)"}),e.jsx("input",{type:"number",id:"longBreakInterval",name:"longBreakInterval",min:"1",max:"10",value:n.longBreakInterval,onChange:s})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{htmlFor:"soundOption",children:"提示音效"}),e.jsxs("div",{className:"sound-option-container",children:[e.jsxs("select",{id:"soundOption",name:"soundOption",value:n.soundOption,onChange:s,children:[e.jsx("option",{value:"bell",children:"铃声"}),e.jsx("option",{value:"complete",children:"完成音"}),e.jsx("option",{value:"meditation",children:"冥想钟"})]}),e.jsx("button",{type:"button",className:"test-sound-button",onClick:p,"aria-label":"测试音效",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),e.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),e.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})})]})]}),e.jsxs("div",{className:"settings-actions",children:[e.jsx("button",{className:"cancel-button",onClick:c,children:"取消"}),e.jsx("button",{className:"apply-button",onClick:m,children:"应用"})]})]})]})}export{j as default};
