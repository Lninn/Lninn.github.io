import{j as e}from"./index-Ct-Fg0Nq.js";import{b as l,h as g}from"./vendor-C_ovgAfI.js";import"./utils-CWHH1IbV.js";function p({isOpen:t,onClose:n,title:o,children:s,size:i="md",closeOnEsc:d=!0,closeOnOverlayClick:y=!0,showCloseButton:f=!0,position:v="center",footer:x,className:E=""}){const[k,h]=l.useState(!1),a=l.useRef(null),u=l.useRef(null);l.useEffect(()=>(t?(h(!0),u.current=document.activeElement,document.body.style.overflow="hidden"):(document.body.style.overflow="",u.current&&u.current.focus()),()=>{document.body.style.overflow=""}),[t]),l.useEffect(()=>{const r=c=>{if(t&&(c.key==="Escape"&&d&&n(),c.key==="Tab"&&a.current)){const m=a.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(m.length===0)return;const b=m[0],j=m[m.length-1];c.shiftKey&&document.activeElement===b?(j.focus(),c.preventDefault()):!c.shiftKey&&document.activeElement===j&&(b.focus(),c.preventDefault())}};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[t,d,n]),l.useEffect(()=>{if(t&&a.current){const r=a.current.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');r?r.focus():a.current.focus()}},[t]);const N=()=>{t||h(!1)};return!t&&!k?null:g.createPortal(e.jsxs("div",{className:`modal-container ${t?"modal-open":"modal-close"}`,onAnimationEnd:N,"aria-hidden":!t,children:[e.jsx("div",{className:"modal-overlay",onClick:y?n:void 0,"aria-hidden":"true"}),e.jsxs("div",{ref:a,className:`modal-content modal-${i} modal-position-${v} ${E}`,role:"dialog","aria-modal":"true","aria-labelledby":o?"modal-title":void 0,tabIndex:-1,onClick:r=>r.stopPropagation(),children:[(o||f)&&e.jsxs("div",{className:"modal-header",children:[o&&e.jsx("h3",{id:"modal-title",className:"modal-title",children:o}),f&&e.jsx("button",{className:"modal-close-button",onClick:n,"aria-label":"关闭",children:"×"})]}),e.jsx("div",{className:"modal-body",children:s}),x&&e.jsx("div",{className:"modal-footer",children:x})]})]}),document.body)}function C(){const[t,n]=l.useState(!1),o=()=>n(!0),s=()=>n(!1),i=e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-danger",onClick:s,children:"取消"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>{s()},children:"确认"})]});return e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-primary",onClick:o,children:"打开模态框"}),e.jsxs(p,{isOpen:t,onClose:s,title:"示例模态框",size:"md",footer:i,children:[e.jsx("p",{children:"这是一个示例模态框内容。您可以在这里放置任何内容。"}),e.jsx("input",{type:"text",placeholder:"示例输入框"})]})]})}function D({isOpen:t,onClose:n,onConfirm:o,title:s,message:i}){const d=e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn",onClick:n,children:"取消"}),e.jsx("button",{className:"btn btn-primary",onClick:o,children:"确认"})]});return e.jsx(p,{isOpen:t,onClose:n,title:s,size:"sm",footer:d,children:e.jsx("p",{children:i})})}function A(){const[t,n]=l.useState(!1),o=()=>{n(!0)},s=()=>{console.log("删除确认"),n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-danger",onClick:o,children:"删除书签"}),e.jsx(D,{isOpen:t,onClose:()=>n(!1),onConfirm:s,title:"确认删除",message:"您确定要删除这个书签吗？此操作无法撤销。"})]})}function F(){return e.jsxs("div",{className:"component-demo",children:[e.jsx("h1",{children:"组件演示"}),e.jsx("p",{children:"这里是组件演示页面，你可以在这里预览和测试各个组件。"}),e.jsx("h3",{children:"使用示例"}),e.jsx(C,{}),e.jsx("h3",{children:"确认对话框"}),e.jsx(A,{})]})}export{F as default};
