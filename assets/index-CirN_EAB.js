import{a as c,r as i,j as t}from"./vendor-BF5lFfg8.js";var l="https://lpfmjvvkofoglztkztyr.supabase.co",m="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxwZm1qdnZrb2ZvZ2x6dGt6dHlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDEwNTU1NzQsImV4cCI6MjA1NjYzMTU3NH0.bTQuyl4giJbwOvG_7qyndafHhoRQAz4McuOEVjpJ5gI";const d=l,u=m,h=c(d,u),k=g();function j(){const a=i.use(k),r=i.useMemo(()=>x(a),[a]);return t.jsxs("div",{className:"bookmark-container",children:[t.jsx("div",{className:"bookmark-header",children:t.jsx("h1",{children:"我的书签"})}),t.jsx("section",{className:"bookmark-grid",children:r.map(([e,o])=>t.jsx(f,{name:e,data:o},e))})]})}function f({name:a,data:r}){return t.jsxs("div",{className:"bookmark-category",children:[t.jsx("h2",{className:"category-title",children:a}),t.jsx(p,{list:r})]})}function p({list:a}){return t.jsx("ul",{children:a.map(r=>t.jsxs("li",{style:{marginBlockEnd:8},children:[t.jsx("img",{height:24,width:24,src:r.icon,style:{verticalAlign:"bottom",paddingRight:8}}),t.jsx("a",{href:r.url,target:"_blank",children:r.name})]},r.name))})}async function g(){try{let{data:a,error:r}=await h.from("bookmark").select("*");return r?(console.error("Failed to fetch bookmark data:",r),[]):a}catch(a){return console.error("Failed to fetch bookmark data:",a),[]}}function x(a){var r=a,e={};for(const s of r)if("category"in s){var o=s.category;o in e?e[o].push(s):e[o]=[s]}var n=Object.entries(e);return y(n,!1)}function y(a,r=!0){return a.sort((e,o)=>r?e[0][0].localeCompare(o[0][0]):o[0][0].localeCompare(e[0][0]))}export{j as default,x as getUrlArray};
