import{j as e}from"./index-Doj8chqn.js";import{b as c}from"./vendor-NnAsmyE9.js";import{M as k}from"./index-CdajRIr7.js";import"./utils-Byjf9Pgh.js";function C(){const[n,t]=c.useState(!1),r=()=>t(!0),i=()=>t(!1),a=e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-danger",onClick:i,children:"取消"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>{i()},children:"确认"})]});return e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-primary",onClick:r,children:"打开模态框"}),e.jsxs(k,{isOpen:n,onClose:i,title:"示例模态框",size:"md",footer:a,children:[e.jsx("p",{children:"这是一个示例模态框内容。您可以在这里放置任何内容。"}),e.jsx("input",{type:"text",placeholder:"示例输入框"})]})]})}function w({isOpen:n,onClose:t,onConfirm:r,title:i,message:a}){const f=e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn",onClick:t,children:"取消"}),e.jsx("button",{className:"btn btn-primary",onClick:r,children:"确认"})]});return e.jsx(k,{isOpen:n,onClose:t,title:i,size:"sm",footer:f,children:e.jsx("p",{children:a})})}function N(){const[n,t]=c.useState(!1),r=()=>{t(!0)},i=()=>{console.log("删除确认"),t(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-danger",onClick:r,children:"删除书签"}),e.jsx(w,{isOpen:n,onClose:()=>t(!1),onConfirm:i,title:"确认删除",message:"您确定要删除这个书签吗？此操作无法撤销。"})]})}function E({options:n=[],value:t,onChange:r,placeholder:i="请选择",disabled:a=!1,error:f,className:v=""}){const[l,u]=c.useState(!1),[d,h]=c.useState(-1),p=c.useRef(null),m=c.useRef(null),x=n.find(s=>s.value===t),j=c.useCallback(()=>{a||u(s=>!s)},[a]),b=c.useCallback(s=>{r&&r(s.value),u(!1)},[r]),g=c.useCallback(s=>{if(!a)switch(s.key){case"Enter":l&&d>=0&&d<n.length?b(n[d]):j();break;case"Escape":u(!1);break;case"ArrowDown":s.preventDefault(),l?h(o=>o<n.length-1?o+1:o):u(!0);break;case"ArrowUp":s.preventDefault(),l&&h(o=>o>0?o-1:0);break;case" ":l||(s.preventDefault(),u(!0));break}},[a,l,d,n,b,j]);return c.useEffect(()=>{const s=o=>{p.current&&!p.current.contains(o.target)&&u(!1)};return l&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[l]),c.useEffect(()=>{if(l&&m.current&&x){const s=m.current.querySelector(".selected");s&&s.scrollIntoView({block:"nearest"})}},[l,x]),c.useEffect(()=>{if(l&&m.current&&d>=0){const s=m.current.querySelectorAll(".select-option")[d];s&&s.scrollIntoView({block:"nearest"})}},[l,d]),c.useEffect(()=>{if(l){const s=n.findIndex(o=>o.value===t);h(s>=0?s:0)}},[l,n,t]),e.jsxs("div",{className:`select-container ${v}`,ref:p,children:[e.jsxs("div",{className:`select-trigger ${l?"open":""} ${a?"disabled":""} ${f?"error":""}`,onClick:j,onKeyDown:g,tabIndex:a?-1:0,role:"combobox","aria-expanded":l,"aria-haspopup":"listbox","aria-disabled":a,children:[e.jsx("div",{className:`select-value ${x?"":"select-placeholder"}`,children:x?x.label:i}),e.jsx("div",{className:`select-icon ${l?"open":""}`,children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M2.5 4.5L6 8L9.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),l&&e.jsxs("div",{className:"select-dropdown",ref:m,role:"listbox",children:[n.map((s,o)=>e.jsx("div",{className:`select-option ${s.value===t?"selected":""} ${o===d?"focused":""}`,onClick:()=>b(s),role:"option","aria-selected":s.value===t,children:s.label},s.value)),n.length===0&&e.jsx("div",{className:"select-option",children:"无可用选项"})]}),f&&e.jsx("div",{className:"select-error-message",children:f})]})}function D(){const[n,t]=c.useState(""),r=[{value:"option1",label:"选项 1"},{value:"option2",label:"选项 2"},{value:"option3",label:"选项 3"}];return e.jsx(E,{options:r,value:n,onChange:t,placeholder:"请选择一个选项"})}function M(){return e.jsxs("div",{className:"component-demo",children:[e.jsx("h3",{children:"Select 组件"}),e.jsx(D,{}),e.jsx("h1",{children:"组件演示"}),e.jsx("p",{children:"这里是组件演示页面，你可以在这里预览和测试各个组件。"}),e.jsx("h3",{children:"使用示例"}),e.jsx(C,{}),e.jsx("h3",{children:"确认对话框"}),e.jsx(N,{})]})}export{M as default};
