(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5109446f"],{"0154":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layout",{attrs:{hideFooter:!0,title:"设备报修"}},[n("EquipmentCell",{staticStyle:{"margin-top":"3rem"},attrs:{ArrayData:t.equipmentData}}),n("Connection",{on:{onConnect:t.SET_FORMDATA_CONNECT}}),n("AppInputTextarea",{attrs:{title:"故障描述",placeholder:"请输入故障描述"},on:{input:t.SET_FORMDATA_DETAIL}}),n("UploadImg",{on:{upload:t.SET_FORMDATA_FILES}}),n("AppInputTextarea",{attrs:{title:"备注",placeholder:"请输入备注(可选)"},on:{input:t.SET_FORMDATA_REMARK}}),n("AppLargeButton",{attrs:{text:"提交"},on:{onClick:t.submitForm}})],1)},a=[],l=(n("7f7f"),n("cebc")),s=n("57c4"),r=n.n(s),u=n("e134"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"weui-cells__title"},[t._v("联系信息")]),n("div",{staticClass:"weui-cells weui-cells_form"},[n("div",{staticClass:"weui-cell"},[t._m(0),n("div",{staticClass:"weui-cell__bd"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"weui-input",attrs:{type:"text",maxlength:"10",placeholder:"请输入联系人"},domProps:{value:t.name},on:{blur:t.onVaild,input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),n("div",{staticClass:"weui-cell"},[t._m(1),n("div",{staticClass:"weui-cell__bd"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"weui-input",attrs:{type:"number",maxlength:"11",pattern:"[0-9]*",placeholder:"请输入联系方式"},domProps:{value:t.phone},on:{blur:t.onVaild,input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"weui-cell__hd"},[n("label",{staticClass:"weui-label"},[n("p",[n("i",{staticClass:"iconfont"},[t._v("")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"weui-cell__hd"},[n("label",{staticClass:"weui-label"},[n("p",[n("i",{staticClass:"iconfont"},[t._v("")])])])])}],p=(n("6b54"),{name:"Connection",data:function(){return{name:null,phone:null}},methods:{onVaild:function(){this.name?this.phone?this.phone&&11!==this.phone.toString().length?r.a.topTips("请输入正确的联系方式",{duration:1500}):this.name&&this.phone&&this.$emit("onConnect",{name:this.name,phone:this.phone}):r.a.topTips("请输入正确的联系方式",{duration:1500}):r.a.topTips("请输入联系人",{duration:1500})}}}),m=p,d=(n("f005"),n("2877")),h=Object(d["a"])(m,o,c,!1,null,"47bb6474",null),_=h.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PreviewImg",{attrs:{url:t.currentPreview},on:{previewClick:t.onPreviewClick}}),n("div",{staticClass:"weui-cells weui-cells_form"},[n("div",{staticClass:"weui-cell"},[n("div",{staticClass:"weui-cell__bd"},[n("div",{staticClass:"weui-uploader"},[n("div",{staticClass:"weui-uploader__hd"},[t._m(0),n("div",{staticClass:"weui-uploader__info"},[t._v(t._s(t.uploaderCount))])]),n("div",{staticClass:"weui-uploader__bd"},[n("ul",{staticClass:"weui-uploader__files"},t._l(t.urls,function(e,i){return n("ImgItem",{key:i,attrs:{url:e},on:{click:function(n){return t.onClick(e)}}})}),1),n("div",{staticClass:"weui-uploader__input-box"},[n("input",{staticClass:"weui-uploader__input",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.uploaderInput}})])])])])])])],1)},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"weui-uploader__title"},[t._v("上传图片"),n("span",[t._v("(jpg、png、gif)")])])}],w=n("774e"),C=n.n(w),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"weui-uploader__file",style:t.styles,on:{click:t.onClick}})},b=[],y={name:"ImgItem",props:{url:{type:String,required:!0}},computed:{styles:function(){return{backgroundImage:"url(".concat(this.url,")")}}},methods:{onClick:function(t){this.$emit("click",t)}}},A=y,I=Object(d["a"])(A,g,b,!1,null,null,null),E=I.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"weui-gallery",style:t.showStyle,attrs:{id:"gallery"}},[n("span",{staticClass:"weui-gallery__img",style:t.styles,on:{click:t.hideImg}}),n("div",{staticClass:"weui-gallery__opr",on:{click:t.delImg}},[t._m(0)])])},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"weui-gallery__del",attrs:{href:"javascript:"}},[n("i",{staticClass:"weui-icon-delete weui-icon_gallery-delete"})])}],O={name:"PreviewImg",props:{url:{type:String,required:!0}},computed:{styles:function(){return{backgroundImage:"url(".concat(this.url,")")}},showStyle:{get:function(){return this.url?{display:"block"}:""},set:function(t){return{display:t}}}},methods:{hideImg:function(){this.$emit("previewClick","hide")},delImg:function(){this.$emit("previewClick","delete")}}},x=O,D=Object(d["a"])(x,T,k,!1,null,null,null),$=D.exports,F={name:"UploadImg",components:{ImgItem:E,PreviewImg:$},data:function(){return{urls:[],max:3,count:0,currentPreview:""}},computed:{uploaderCount:function(){return"".concat(this.count,"/").concat(this.max," 张")}},methods:{uploaderInput:function(t){var e=window.URL||window.webkitURL||window.mozURL,n=t.target.files;this.caleCount(n.length)&&(this.urls=[].concat(this.urls,C()(n).map(function(n){var i;return i=e?e.createObjectURL(n):t.target.result,i})),this.$emit("upload",this.urls))},caleCount:function(t){return!(t+this.count>3)&&(this.count+=t,!0)},onClick:function(t){this.currentPreview=t},onPreviewClick:function(t){var e=this;"hide"===t?this.currentPreview="":"delete"===t&&(this.urls=this.urls.filter(function(t){return t!==e.currentPreview}),this.currentPreview="",this.count-=1)}}},S=F,R=Object(d["a"])(S,f,v,!1,null,null,null),j=R.exports,P=n("9927"),L=n("2f62"),M=Object(L["a"])("devices"),q=M.mapGetters,U=M.mapMutations,B=M.mapActions,N=[{name:"name",value:"身份证自助取证机"},{name:"model",value:"BY-788928783"},{name:"address",value:"浙江省杭州市滨江区"},{name:"company",value:"XXX 有限公司"}],V={name:"Maintain",components:{Layout:u["a"],Connection:_,UploadImg:j,EquipmentCell:P["a"]},computed:Object(l["a"])({},q(["validForm","getItemById"]),{equipmentData:function(){var t=this.$route.params&&this.$route.params.id,e=this.getItemById(t);return N=N.map(function(t){return t.value=e[t.name],t}),N}}),methods:Object(l["a"])({submitForm:function(){var t=this;this.validForm&&this.submit().then(function(){r.a.toast("提交成功",1500),t.$router.push("/")})}},U(["SET_FORMDATA_CONNECT","SET_FORMDATA_DETAIL","SET_FORMDATA_REMARK","SET_FORMDATA_FILES"]),B(["submit"]))},X=V,H=Object(d["a"])(X,i,a,!1,null,null,null);e["default"]=H.exports},"959d":function(t,e,n){"use strict";var i=n("bd47"),a=n.n(i);a.a},9927:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AppImgTextCells",{attrs:{data:t.filterData}})},a=[],l=(n("7f7f"),n("ed08")),s=[{name:"name",label:"名称",icon:""},{name:"model",label:"型号",icon:""},{name:"company",label:"公司",icon:""},{name:"address",label:"位置",icon:""}],r={name:"EquipmentCell",data:function(){return{name:"设备信息",originalData:s}},props:{ArrayData:{type:Array,required:!0}},computed:{filterData:function(){var t=Object(l["b"])(this.originalData,this.ArrayData);return{name:this.name,list:t}}}},u=r,o=(n("959d"),n("2877")),c=Object(o["a"])(u,i,a,!1,null,"6ef6dab7",null);e["a"]=c.exports},bd47:function(t,e,n){},c7f0:function(t,e,n){},e134:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("AppHeader",[t._t("header",[n("AppBackHeader",{attrs:{title:t.title}})])],2),t._t("default"),t.hideFooter?t._e():n("AppFooter")],2)},a=[],l={name:"Layout",props:{hideFooter:{type:Boolean,default:!1},title:{type:String}}},s=l,r=n("2877"),u=Object(r["a"])(s,i,a,!1,null,null,null);e["a"]=u.exports},f005:function(t,e,n){"use strict";var i=n("c7f0"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-5109446f.4e9217a7.js.map