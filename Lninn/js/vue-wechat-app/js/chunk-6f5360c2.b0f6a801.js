(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f5360c2"],{"0154":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Layout",{attrs:{hideFooter:!0,title:"设备报修"}},[i("EquipmentCell",{staticStyle:{"margin-top":"3rem"},attrs:{ArrayData:t.equipmentData}}),i("Connection",{on:{onConnect:t.SET_FORMDATA_CONNECT}}),i("AppInputTextarea",{attrs:{title:"故障描述",placeholder:"请输入故障描述"},on:{input:t.SET_FORMDATA_DETAIL}}),i("UploadImg",{on:{upload:t.SET_FORMDATA_FILES}}),i("AppInputTextarea",{attrs:{title:"备注",placeholder:"请输入备注(可选)"},on:{input:t.SET_FORMDATA_REMARK}}),i("AppLargeButton",{attrs:{text:"提交"},on:{onClick:t.submitForm}})],1)},a=[],l=(i("7f7f"),i("be94")),s=i("57c4"),r=i.n(s),u=i("e134"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"weui-cells__title"},[t._v("联系信息")]),i("div",{staticClass:"weui-cells weui-cells_form"},[i("div",{staticClass:"weui-cell"},[t._m(0),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"weui-input",attrs:{type:"text",maxlength:"10",placeholder:"请输入联系人"},domProps:{value:t.name},on:{blur:t.onVaild,input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),i("div",{staticClass:"weui-cell"},[t._m(1),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"weui-input",attrs:{type:"number",maxlength:"11",pattern:"[0-9]*",placeholder:"请输入联系方式"},domProps:{value:t.phone},on:{blur:t.onVaild,input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[i("p",[i("i",{staticClass:"iconfont"},[t._v("")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[i("p",[i("i",{staticClass:"iconfont"},[t._v("")])])])])}],p=(i("6b54"),{name:"Connection",data:function(){return{name:null,phone:null}},methods:{onVaild:function(){this.name?this.phone?this.phone&&11!==this.phone.toString().length?r.a.topTips("请输入正确的联系方式",{duration:1500}):this.name&&this.phone&&this.$emit("onConnect",{name:this.name,phone:this.phone}):r.a.topTips("请输入正确的联系方式",{duration:1500}):r.a.topTips("请输入联系人",{duration:1500})}}}),m=p,d=(i("f005"),i("2877")),_=Object(d["a"])(m,o,c,!1,null,"47bb6474",null);_.options.__file="Connection.vue";var f=_.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PreviewImg",{attrs:{url:t.currentPreview},on:{previewClick:t.onPreviewClick}}),i("div",{staticClass:"weui-cells weui-cells_form"},[i("div",{staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("div",{staticClass:"weui-uploader"},[i("div",{staticClass:"weui-uploader__hd"},[t._m(0),i("div",{staticClass:"weui-uploader__info"},[t._v(t._s(t.uploaderCount))])]),i("div",{staticClass:"weui-uploader__bd"},[i("ul",{staticClass:"weui-uploader__files"},t._l(t.urls,function(e,n){return i("ImgItem",{key:n,attrs:{url:e},on:{click:function(i){t.onClick(e)}}})})),i("div",{staticClass:"weui-uploader__input-box"},[i("input",{staticClass:"weui-uploader__input",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.uploaderInput}})])])])])])])],1)},h=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"weui-uploader__title"},[t._v("上传图片"),i("span",[t._v("(jpg、png、gif)")])])}],w=(i("5df3"),i("1c4c"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"weui-uploader__file",style:t.styles,on:{click:t.onClick}})}),C=[],g={name:"ImgItem",props:{url:{type:String,required:!0}},computed:{styles:function(){return{backgroundImage:"url(".concat(this.url,")")}}},methods:{onClick:function(t){this.$emit("click",t)}}},b=g,y=(i("979c"),Object(d["a"])(b,w,C,!1,null,null,null));y.options.__file="ImgItem.vue";var I=y.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-gallery",style:t.showStyle,attrs:{id:"gallery"}},[i("span",{staticClass:"weui-gallery__img",style:t.styles,on:{click:t.hideImg}}),i("div",{staticClass:"weui-gallery__opr",on:{click:t.delImg}},[t._m(0)])])},E=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"weui-gallery__del",attrs:{href:"javascript:"}},[i("i",{staticClass:"weui-icon-delete weui-icon_gallery-delete"})])}],T={name:"PreviewImg",props:{url:{type:String,required:!0}},computed:{styles:function(){return{backgroundImage:"url(".concat(this.url,")")}},showStyle:{get:function(){return this.url?{display:"block"}:""},set:function(t){return{display:t}}}},methods:{hideImg:function(){this.$emit("previewClick","hide")},delImg:function(){this.$emit("previewClick","delete")}}},k=T,x=(i("1b70"),Object(d["a"])(k,A,E,!1,null,null,null));x.options.__file="PreviewImg.vue";var O=x.exports,D={name:"UploadImg",components:{ImgItem:I,PreviewImg:O},data:function(){return{urls:[],max:3,count:0,currentPreview:""}},computed:{uploaderCount:function(){return"".concat(this.count,"/").concat(this.max," 张")}},methods:{uploaderInput:function(t){var e=window.URL||window.webkitURL||window.mozURL,i=t.target.files;this.caleCount(i.length)&&(this.urls=[].concat(this.urls,Array.from(i).map(function(i){var n;return n=e?e.createObjectURL(i):t.target.result,n})),this.$emit("upload",this.urls))},caleCount:function(t){return!(t+this.count>3)&&(this.count+=t,!0)},onClick:function(t){this.currentPreview=t},onPreviewClick:function(t){var e=this;"hide"===t?this.currentPreview="":"delete"===t&&(this.urls=this.urls.filter(function(t){return t!==e.currentPreview}),this.currentPreview="",this.count-=1)}}},$=D,F=Object(d["a"])($,v,h,!1,null,null,null);F.options.__file="index.vue";var S=F.exports,R=i("9927"),j=i("2f62"),P=Object(j["a"])("devices"),L=P.mapGetters,M=P.mapMutations,q=P.mapActions,U=[{name:"name",value:"身份证自助取证机"},{name:"model",value:"BY-788928783"},{name:"address",value:"浙江省杭州市滨江区"},{name:"company",value:"XXX 有限公司"}],B={name:"Maintain",components:{Layout:u["a"],Connection:f,UploadImg:S,EquipmentCell:R["a"]},computed:Object(l["a"])({},L(["validForm","getItemById"]),{equipmentData:function(){var t=this.$route.params&&this.$route.params.id,e=this.getItemById(t);return U=U.map(function(t){return t.value=e[t.name],t}),U}}),methods:Object(l["a"])({submitForm:function(){var t=this;this.validForm&&this.submit().then(function(){r.a.toast("提交成功",1500),t.$router.push("/")})}},M(["SET_FORMDATA_CONNECT","SET_FORMDATA_DETAIL","SET_FORMDATA_REMARK","SET_FORMDATA_FILES"]),q(["submit"]))},N=B,V=Object(d["a"])(N,n,a,!1,null,null,null);V.options.__file="index.vue";e["default"]=V.exports},"1b70":function(t,e,i){"use strict";var n=i("b242"),a=i.n(n);a.a},"3b46":function(t,e,i){},"959d":function(t,e,i){"use strict";var n=i("bd47"),a=i.n(n);a.a},"979c":function(t,e,i){"use strict";var n=i("3b46"),a=i.n(n);a.a},9927:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("AppImgTextCells",{attrs:{data:t.filterData}})},a=[],l=(i("7f7f"),i("ed08")),s=[{name:"name",label:"名称",icon:""},{name:"model",label:"型号",icon:""},{name:"company",label:"公司",icon:""},{name:"address",label:"位置",icon:""}],r={name:"EquipmentCell",data:function(){return{name:"设备信息",originalData:s}},props:{ArrayData:{type:Array,required:!0}},computed:{filterData:function(){var t=Object(l["b"])(this.originalData,this.ArrayData);return{name:this.name,list:t}}}},u=r,o=(i("959d"),i("2877")),c=Object(o["a"])(u,n,a,!1,null,"6ef6dab7",null);c.options.__file="EquipmentCell.vue";e["a"]=c.exports},b242:function(t,e,i){},bd47:function(t,e,i){},c7f0:function(t,e,i){},e134:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("AppHeader",[t._t("header",[i("AppBackHeader",{attrs:{title:t.title}})])],2),t._t("default"),t.hideFooter?t._e():i("AppFooter")],2)},a=[],l={name:"Layout",props:{hideFooter:{type:Boolean,default:!1},title:{type:String}}},s=l,r=i("2877"),u=Object(r["a"])(s,n,a,!1,null,null,null);u.options.__file="index.vue";e["a"]=u.exports},f005:function(t,e,i){"use strict";var n=i("c7f0"),a=i.n(n);a.a}}]);
//# sourceMappingURL=chunk-6f5360c2.b0f6a801.js.map