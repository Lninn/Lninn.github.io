{"version":3,"sources":["webpack:///./src/views/Register/index.vue?c1d4","webpack:///./src/views/Register/RegisterForm.vue?bd05","webpack:///./src/utils/validate.js","webpack:///src/views/Register/RegisterForm.vue","webpack:///./src/views/Register/RegisterForm.vue?46e4","webpack:///./src/views/Register/RegisterForm.vue","webpack:///src/views/Register/index.vue","webpack:///./src/views/Register/index.vue?9abc","webpack:///./src/views/Register/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","staticStyle","margin-top","staticRenderFns","RegisterFormvue_type_template_id_db67a4ce_render","nextStep","icon","type","placeholder","model","value","registerForm","callback","$$v","$set","expression","text","on","onClick","onRegister","onNextStep","RegisterFormvue_type_template_id_db67a4ce_staticRenderFns","validPassword","s","reg","test","validPhone","Object","vuex_esm","mapActions","RegisterFormvue_type_script_lang_js_","name","data","username","password","passwordConfirm","phone","address","mounted","self","weui_min_default","a","confirm","buttons","label","methods","objectSpread","validFormOne","validFormTwo","register","tips","pass","_this$registerForm","topTips","duration","_this$registerForm2","Register_RegisterFormvue_type_script_lang_js_","component","componentNormalizer","options","__file","RegisterForm","Registervue_type_script_lang_js_","components","views_Registervue_type_script_lang_js_","Register_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d221c06.b7c8181b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('AppHeader',[_c('AppBackHeader',{attrs:{\"title\":\"注册\"}})],1),_c('div',{staticClass:\"page__bd\",staticStyle:{\"margin-top\":\"3rem\"}},[_c('RegisterForm')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-flex\"},[_c('div',{staticClass:\"weui-flex__item\"},[_c('div',{staticClass:\"weui-cells weui-cells_form\"},[(!_vm.nextStep)?[_c('AppInput',{attrs:{\"icon\":\"\",\"type\":\"text\",\"placeholder\":\"请输入用户名\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}}),_c('AppInput',{attrs:{\"icon\":\"\",\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}}),_c('AppInput',{attrs:{\"icon\":\"\",\"type\":\"password\",\"placeholder\":\"请再次输入密码\"},model:{value:(_vm.registerForm.passwordConfirm),callback:function ($$v) {_vm.$set(_vm.registerForm, \"passwordConfirm\", $$v)},expression:\"registerForm.passwordConfirm\"}})]:[_c('AppInput',{attrs:{\"icon\":\"\",\"type\":\"text\",\"placeholder\":\"请输入真实姓名\"},model:{value:(_vm.registerForm.name),callback:function ($$v) {_vm.$set(_vm.registerForm, \"name\", $$v)},expression:\"registerForm.name\"}}),_c('AppInput',{attrs:{\"icon\":\"\",\"type\":\"number\",\"placeholder\":\"请输入联系方式\"},model:{value:(_vm.registerForm.phone),callback:function ($$v) {_vm.$set(_vm.registerForm, \"phone\", $$v)},expression:\"registerForm.phone\"}}),_c('AppInput',{attrs:{\"icon\":\"\",\"type\":\"text\",\"placeholder\":\"请选择所在的地区\"},model:{value:(_vm.registerForm.address),callback:function ($$v) {_vm.$set(_vm.registerForm, \"address\", $$v)},expression:\"registerForm.address\"}})],_c('div',{staticClass:\"weui-cell\"},[_c('div',{staticClass:\"weui-cell__hd\"}),_c('div',{staticClass:\"weui-cell__bd\"},[(!_vm.nextStep)?_c('AppLargeButton',{attrs:{\"text\":\"下一步\"},on:{\"onClick\":_vm.onNextStep}}):_c('AppLargeButton',{attrs:{\"text\":\"注册\"},on:{\"onClick\":_vm.onRegister}})],1)])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function validPassword(s) {\r\n    const reg = /^.*(?=.{8,16})(?=.*[a-zA-Z])(?=.*\\d).*$/\r\n    return reg.test(s)\r\n}\r\n\r\nexport function validPhone(s) {\r\n    const reg = /^1\\d{10}$/\r\n    return reg.test(s)\r\n}\r\n\r\n","<template>\r\n    <div class=\"weui-flex\">\r\n        <div class=\"weui-flex__item\">\r\n            <div class=\"weui-cells weui-cells_form\">\r\n                <template v-if=\"!nextStep\">\r\n                    <AppInput icon=\"\" type=\"text\" placeholder=\"请输入用户名\" v-model=\"registerForm.username\" />\r\n                    <AppInput icon=\"\" type=\"password\" placeholder=\"请输入密码\" v-model=\"registerForm.password\" />\r\n                    <AppInput icon=\"\" type=\"password\" placeholder=\"请再次输入密码\" v-model=\"registerForm.passwordConfirm\" />\r\n                </template>\r\n                <template v-else>\r\n                    <AppInput icon=\"\" type=\"text\" placeholder=\"请输入真实姓名\" v-model=\"registerForm.name\" />\r\n                    <AppInput icon=\"\" type=\"number\" placeholder=\"请输入联系方式\" v-model=\"registerForm.phone\" />\r\n                    <AppInput icon=\"\" type=\"text\" placeholder=\"请选择所在的地区\" v-model=\"registerForm.address\" />\r\n                </template>\r\n                \r\n                <div class=\"weui-cell\">\r\n                    <div class=\"weui-cell__hd\"></div>\r\n                    <div class=\"weui-cell__bd\">\r\n                        <AppLargeButton v-if=\"!nextStep\" @onClick=\"onNextStep\" text=\"下一步\" />\r\n                        <AppLargeButton v-else @onClick=\"onRegister\" text=\"注册\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport weui from 'weui.js'\r\nimport { validPassword, validPhone, } from '@/utils/validate'\r\n\r\nimport { createNamespacedHelpers } from 'vuex'\r\nconst { mapActions, } = createNamespacedHelpers('user')\r\n\r\nexport default {\r\n    name: 'RegisterForm',\r\n    data() {\r\n        return {\r\n            nextStep: false,\r\n            registerForm: {\r\n                name: null,\r\n                username: null,\r\n                type: null,\r\n                password: null,\r\n                passwordConfirm: null,\r\n                phone: null,\r\n                address: null,\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n        const self = this\r\n        weui.confirm('请选择你的身份', {\r\n            title: '',\r\n            buttons: [{\r\n                label: '维护人员',\r\n                type: 'primary',\r\n                onClick: function(){ self.registerForm.type = 2 }\r\n            }, {\r\n                label: '客户',\r\n                type: 'primary',\r\n                onClick: function(){ self.registerForm.type = 3 }\r\n            }]\r\n        });\r\n    },\r\n    methods: {\r\n        ...mapActions([\r\n            'register',\r\n        ]),\r\n        onNextStep() {\r\n            if (!this.validFormOne()) {\r\n                return\r\n            }\r\n            this.nextStep = true\r\n        },\r\n        onRegister() {\r\n            if (!this.validFormTwo()) {\r\n                return\r\n            }\r\n            this.register(this.registerForm)\r\n        },\r\n        validFormOne() {\r\n            let tips, pass = false\r\n            const { username, password, passwordConfirm, } = this.registerForm\r\n\r\n            if (!username) {\r\n                tips = '请输入用户名'\r\n            } else if (!password || !passwordConfirm) {\r\n                tips = !password ? '请输入密码' : '请输入确认密码'\r\n            } else if (!validPassword(password)) {\r\n                tips = '密码长度8-16, 至少包含一个大写字母和一个小写字母'\r\n            } else if (this.registerForm.password !== this.registerForm.passwordConfirm) {\r\n                tips = '两次输入的密码不一致'\r\n            } else {\r\n                pass = true\r\n            }\r\n\r\n            if (pass === false) {\r\n                 weui.topTips(tips, {\r\n                    duration: 1500,\r\n                })\r\n            }\r\n            return pass            \r\n        },\r\n        validFormTwo() {\r\n            let tips, pass = false\r\n            const { name, phone, address, } = this.registerForm\r\n\r\n            if (!name) {\r\n                tips = '请输入真实姓名'\r\n            } else if (!phone) {\r\n                tips = '请输入联系方式'\r\n            } else if (!address) {\r\n                tips = '请输入输入地址'\r\n            } else if (!validPhone(phone)) {\r\n                tips = '您输入的联系方式不合法，请重新输入'\r\n            } else {\r\n                pass = true\r\n            }\r\n\r\n            if (pass === false) {\r\n                weui.topTips(tips, {\r\n                    duration: 1500,\r\n                })\r\n            }\r\n            return pass \r\n        },\r\n    },\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegisterForm.vue?vue&type=template&id=db67a4ce&\"\nimport script from \"./RegisterForm.vue?vue&type=script&lang=js&\"\nexport * from \"./RegisterForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"RegisterForm.vue\"\nexport default component.exports","<template>\r\n    <div class=\"page\">\r\n        <AppHeader>\r\n            <AppBackHeader title=\"注册\" />\r\n        </AppHeader>\r\n        <div class=\"page__bd\" style=\"margin-top: 3rem;\">\r\n            <RegisterForm />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport RegisterForm from './RegisterForm'\r\n\r\nexport default {\r\n    name: 'Register',\r\n    components: {\r\n        RegisterForm,\r\n    },\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=063db998&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports"],"sourceRoot":""}